# [인형뽑기]
# 시높시스
쿠폰 사용자를 유저로 하는 원격 인형뽑기 게임

# 인게임
좌로 한번 전후로 한번 이동하여 인형을 뽑는 게임 (오프라인 인형뽑기와 동일하다.)

# 스토리 보드를 통한 게임 요약
 
LOGO SCENE<br>
1) 세시소프트 로고후 title scene로 씬 전환

TITLE SCENE<br>
1) 타이틀 화면 
2) 상단부에 게임 타이틀및 로고가보인다. 최상단부 왼쪽에 언어 선택 버튼이 있다.
3) 중단부에 게임 입장 버튼 
4) 하단부에 사운드등 옵션 버튼이 보인다. 
5) 게임 입장 버튼을 누르면 게임 입장 팝업이 뜬다.
6) 게임 입장 팝업에는 아바타(남, 여) 선택 버튼및 게임 입장 버튼이 있다. 
7) 게임 입장 버튼을 누르면 게스트 로그인이 되면서 HOME SCENE로 이동

HOME SCENE<br>
1) 로비화면
2) 상단부 입장권 충전 버튼이 있다. 
3) 중단부에는 방리스틀 볼 수 있다.
4) 충전 버튼을 누르면 충전 팝업이 뜬다.
5) 충전 팝업에 쿠폰 입력란이 있다. 
6) 쿠폰 입력칸에 쿠폰을 입력 한다. 미사용 쿠폰이면 게임 사용권 3회로 충전
7) 사용 쿠폰이면 게스트 인증 (충전을 하지 않으면 게스트)
8) 광고 공지 (광고 공지 팝업 제공)
9) 광고 공지 팝업을 클릭하면 해당 방으로 이동 가능
10) 광고 공지 하단에 오늘 하루 그만 보기 버튼 
11) 광고를 누르거나 방을 누르면 방 입장 팝업
12) 인원 제한에 걸리지 않았다면 방으로 이동 
13) 인원 제한에 걸렸다면 입장 불가 메세지가 뜬다. 
14) 원원 제한은 현재 스펙 정리중 (개발에서는 방 제한이 10명 이상 될수 있는 것으로 이해)
15) 방 입장이 되면 GAME SCENE로 이동

GAME SCENE<br>
1) 게임 화면
2) 상단부 카메라 1,2번 선택 화면 (대기중에 눌러서 카메라 뷰를 변환 할수 있다.)
3) 중단부 뽑기 화면 (인형뽑기 크레인과 인형들이 보인다.)
4) 하단부 사용 방향키 버튼 or 대기자 리스트 (현재 게임 중이면 방향키,아니면 대기 리스트)
5) 부가 부분은 추후 논의(채팅등)
6) 대기 버튼을 눌러야 대기 리스트에 올라간다.
7) 대기 버튼을 누르지 않았다면 관전자 즉, 게스트가 된다.
8) 대기자가 되면 관전자나 대기자가 자신의 정보(게임 횟수)를 다른 사람이 볼 수 있다. 
9) 쿠폰으로 게임 이용권을 충전 하려면 방 퇴장을 해야 한다. 
10) 방 퇴장을 할 경우 대기 리스트에 순위를 포기하게 된다.  
11) 대기중 자신의 차례가 왔다면 화면 하단부가 대기자 리스트에서 방향키 화면으로 교체 된다. 
12) 게임 사용 가능한 방향키 인터페이스로 변환 (방향키는 가로 방향)
13) 카메라는 1번 카메라 뷰로 고정된다.
14) 게임 가능 메세지 팝업이 종료 되면 방향키에 불이 들어온다.(사용 가능 메세지)
15) 방향키를 누르면 인형 뽑기 크레인인 1번 카메라 뷰를 기준으로 우측으로 이동한다. 
16) 방향키를 떼면 1번 카메라 기분으로 정지한다.(이동과 정지 화면의 씽크가 가장 중요한 게임 요소)
17) 카메라는 2번 카메라 뷰로 고정된다.
18) 방향키는 세로 방향으로 전환 된다. 
19) 방향키를 누르면 인형 뽑기 크레인인 2번 카메라 뷰를 기준으로 우측으로 이동한다. 
20) 방향키를 떼면 2번 카메라 기분으로 정지한다.(이동과 정지 화면의 씽크가 가장 중요한 게임 요소)
21) 방향키를 뗀 후 1초후에 인형뽑기 크레인이 하강한다. (사운드 메세지 중요 -> "도전!" 이런식?)
22) 성공 실패 화면 (? 성공 실패를 판단할 센서 필요)
23) 성공 하였을 경우 팡파레 후 주소 입력 화면 제공
24) 실패 하였을 경우 일정 시간후 게임 아웃 (이부분 기획 필요) 
25) HOME SCENE으로 전환 

# 개발 - 문제점
기획 이슈 (9월 20일 하팀장 주도하에 기획 이슈 정리)<br>
1) 쿠폰 관련 <BR>
 쿠폰 로그인은 게스트 로그인 후 쿠폰을 이용해 게임 이용권 충전으로 정리<BR>
 충전을 하지 않았다면 기본적으로 모두 다 게스트이다. 
2) 방 입장후 대기자
 방 입장후 유저는 플레이어, 대기자, 관전자로 구분한다. <BR>
 플레이어는 현재 게임을 하고 있는 사람으로 게임 이용권이 0이 되면 관전자가 된다.ㅊㅊㅊㅊㅊㅊ
 대기자는 대기 버튼을 누른 사람으로 누른 시간 순서로 대기자 리스트에 포함된다.<BR>
 그외 모두 관전자<BR> 
3) 앱 VS 웹
 유니티 기반으로 좀 더 동적인 앱으로 개발 (구글및 애플 스토어 이용)

하드웨어 이슈 <br>
기본적으로 인형뽑기 기계를 움직이는 PC역활을 IO보드가 한다. <br>
이 IO보드에 기계 작동에 전반적인 프로그램이 입력 되어 있는데 이를 외부에선수정할수없다.<br>
기계의 용도를 달리하려면 결국 IO보드를 다시 만들어야 한다. <br><br>

1) 현재의 기계는 인형뽑기의 성공 유무 판단 불가
2) 성공시 인형의 종류를 인지할 방법이 없다.
3) 게임 시간 조절이 불가능하다. 

소프트 웨어 이슈<br> 
1) 현재 구성은 원격 리모콘으로 서버/클라이언트 개발이 필요
2) 라즈베리파이 기반 구조에서 AWS 구조로 변경 필요 (현재 성능 이슈가 있음)
3) 냉각팬을 붙이고 구동 부분을 부분적으로 AWS로 이전 했음 (이현우 작업)
4) 기존 작업 정리 필요(라이트하게 정리 필요)
5) 영상 전송을 위한 스트리밍 서버 필요 

# 개발 - 인원
1) 서버 - 이해남
2) 클라이언트 - 김양운 or 이해남 (웹으로 할 경우 이해남)
3) 하드웨어 - 게임 옵션 조절 부분과 인형 체크 센서 관련 부분 개발 필요 -> io를 새로 만들지 판단 필요

# 개발 - 인건비를 제외한 유지 비용
1) 인형뽑기 유지를 위한 aws 서버 비용 ->약 월 오만원 예싱
2) 영상 전송을 위한 스트리밍 서버 비용 -> 월 30만원 정도 예상 (조사 필요)

# 개발 - 일감
서버<br>
1) 버전 체크 (강제 업데이트로스토어로 진입)
2) 다국어 시스템
3) firebase 게스트 로그인
3) 방리스트 
4) 광고 공지
5) 게임 이용권 충전  
6) 배송 관련
7) 운영툴은 추구 개발 (필요한것은 구글 스프레드 시트로 일시 대체)
 
클라이언트<br>
1) 씬 화면 구성
  로고 씬, 타이틀 씬, 홈 씬, 게임 씬 (총 4씬)
2) 인증 팝업
 게스트 로그인, 쿠폰인증,  방인증, 성공 실패 인증 
3) 기타 팝업
 옵션 팝업(사운드 등), 공지 팝업

하드웨어<br>
1) 인형 배출구에 배출을 감지하는 센서 개발 필요
2) 게임 옵션을 조절하는 기능 필요

# 개발 - 스케줄 (협의 후 다 시 정리)
1) 알파버전
 - 개발 목표 : 실시간 서버 구성 -> 게임의 구성을 위한 방을 구성하여 유저를 관리해야 함 (포톤 서버)
 - 개발 기간 : 9월 13일~ 9월 30일
 - 주요 일감 : 클라이언트 개발, 
 
 
 
 
 
 
 
알파버전 : 서버 / 클라이언트 구축 새 디자인으로 개발.<br>
1) 9월 13일~ 9월 16일 : 게임 관련 기능 교육<br>
- 서버 : 기본 교육 -> 파이어 베이스 기반 로그인, 푸시, 호스팅, 영수증 처리, 결제 복구. DB 구축등 게임 기본 교육<br>
- 클라 : 설명 형식의 기획서 작성(현재 문서)<br>
2) 9월 19일~9월 30일 : 인증 시스템<br>
 - 서버 : 게스트 로그인, 쿠폰을 통한 이용권 인증 시스템 구성<br>
 - 클라 : 인증 판넬및 방구성<br>

베타버전 : 게임 기능 종료<br>
1) 10월 3일~10월 7일 : 방리스트 구성<br>
- 서버 : 방 구성 (운영에서 방을 만들고 없앨수 있다.)<br>
- 클라 : 방리스트 구성<br>
2) 10월 10일~10월 14일 : 인게임<br>
- 서버 : 인 게임 구성, 방입장, 성공, 실패, 주소입력<br>
- 클라 : 인게임 구성, 방구성 UI,입장, 성공, 실패, 주소입력 팝업<br>
 
마스터 버전 : 연형뽑기 라이트 버전 개발 종료<br>
1) 10월 17일~10월 21일 : 개발 버전 종료<br>
2) 이후 :  QA
